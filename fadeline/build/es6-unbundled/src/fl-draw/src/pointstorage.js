function PointStorage(a){function b(b,c){h(b);let d={action:c,eventType:b.type,x:b.offsetX,y:b.offsetY,pressure:l,size:a.size,color:a.color,flow:a.flow,time:Date.now()};j.push(d)}function c(a){a.buttons&&(k=!0),b(a,'mouseover')}function d(a){k=!1,b(a,'mouseout')}function e(a){k=!0,b(a,'movestart')}function f(a={type:'up'}){k=!1,b(a,'moveend')}function g(a){k&&b(a,'move')}function h(a){a.offsetX||a.offsetY||(a.offsetX=(a.pageX||0)-i.offsetLeft,a.offsetY=(a.pageY||0)-i.offsetTop)}var i;let j=[],k=!1,l=0;return{points:j,attachEventHandlers:function(a){i=a,a.addEventListener('touchmove',(a)=>a.preventDefault()),Pressure.set(a,{change:(a)=>{l=a},start:function(){},end:function(){}},{preventSelect:!0,polyfillSpeedUp:300}),a.addEventListener('mouseover',c),a.addEventListener('mouseout',d),a.addEventListener('mousedown',e),a.addEventListener('mouseup',f),a.addEventListener('mousemove',g),a.addEventListener('touchstart',e),a.addEventListener('touchend',f),a.addEventListener('touchmove',g)}}}