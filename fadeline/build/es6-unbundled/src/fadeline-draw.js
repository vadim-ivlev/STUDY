let rgba={r:0,g:0,b:0,a:255},strWeight=2,fadingTime=1e4,sig_k=15;function setup(){var a=createCanvas(windowWidth,0.5*windowHeight);a.parent('pane'),noFill(),curveTightness(-0.5)}function draw(){clear(),redrawLastLines(fadingTime)}function redrawLastLines(b=5e3){for(let c,a=points.length-1;2<a;a--){if(c=getAlpha(b,a),0>c)return;let d=getCurveCoords(a);null==d||(stroke(rgba.r,rgba.g,rgba.b,c*rgba.a),strokeWeight(strWeight+c*strWeight),curve(...d))}}function getCurveCoords(a){var b,c,d,e=points[a];return(e=points[a],'move'!=e.action)?null:(b=points[a-1],'move'!=b.action)?[e.x,e.y,e.x,e.y,b.x,b.y,b.x,b.y]:(c=points[a-2],'move'!=c.action)?[e.x,e.y,b.x,b.y,b.x,b.y,c.x,c.y]:(d=points[a-3],[e.x,e.y,b.x,b.y,c.x,c.y,d.x,d.y])}function getAlpha(a,b){let c=points[b],d=Date.now(),e=d-c.time,f=lin(e,a),g=f*c.pressure;return g}function lin(a,b){return 1-a/b}function sigmoid(a,b,c){return 1/(Math.exp(b*(a-0.5*c)/c)+1)}