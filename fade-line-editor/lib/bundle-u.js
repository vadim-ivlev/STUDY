"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}else{return Array.from(arr)}}var rgba={r:0,g:0,b:0,a:255};var strWeight=2;var fadingTime=1e4;var sig_k=15;function setup(){var myCanvas=createCanvas(windowWidth,windowHeight*.5);myCanvas.parent("pane");noFill();curveTightness(-.5)}function draw(){clear();redrawLastLines(fadingTime)}function redrawLastLines(){var timeSpan=arguments.length>0&&arguments[0]!==undefined?arguments[0]:5e3;for(var i=points.length-1;i>2;i--){var a=getAlpha(timeSpan,i);if(a<0){return}var coords=getCurveCoords(i);if(coords==null)continue;stroke(rgba.r,rgba.g,rgba.b,a*rgba.a);strokeWeight(strWeight+a*strWeight);curve.apply(undefined,_toConsumableArray(coords))}}function getCurveCoords(i){var p1=points[i],p2,p3,p4;p1=points[i];if(p1.action!="move")return null;p2=points[i-1];if(p2.action!="move")return[p1.x,p1.y,p1.x,p1.y,p2.x,p2.y,p2.x,p2.y];p3=points[i-2];if(p3.action!="move")return[p1.x,p1.y,p2.x,p2.y,p2.x,p2.y,p3.x,p3.y];p4=points[i-3];return[p1.x,p1.y,p2.x,p2.y,p3.x,p3.y,p4.x,p4.y]}function getAlpha(timeSpan,i){var p1=points[i];var now=Date.now();var dt=now-p1.time;var fading=lin(dt,timeSpan);var alpha=fading*p1.pressure;return alpha}function lin(x,n){return 1-x/n}function sigmoid(x,k,n){return 1/(Math.exp(k*(x-.5*n)/n)+1)}console.log("\nЭто новая\nстрока 3.");"use strict";var pointerDown=false;var press=0;var points=[];var pane=$("#pane");function pushPoint(ev,action){fixOffsets(ev);var p={action:action,eventType:ev.type,x:ev.offsetX,y:ev.offsetY,pressure:press,time:Date.now()};points.push(p)}function mouseover_handler(event){if(event.buttons)pointerDown=true;pushPoint(event,"mouseover")}function mouseout_handler(event){pointerDown=false;pushPoint(event,"mouseout")}function movestart_handler(event){pointerDown=true;pushPoint(event,"movestart")}function moveend_handler(){var event=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{type:"up"};pointerDown=false;pushPoint(event,"moveend")}function move_handler(event){if(pointerDown)pushPoint(event,"move")}function fixOffsets(ev){if(ev.offsetX||ev.offsetY)return;var offset=pane.offset();ev.offsetX=(ev.pageX||0)-offset.left;ev.offsetY=(ev.pageY||0)-offset.top}pane.on("touchmove",function(event){return event.preventDefault()});$("#pane").pressure({change:function change(force,event){press=force},start:function start(event){},end:function end(){}},{preventSelect:true,polyfillSpeedUp:300});pane.on("mouseover",mouseover_handler);pane.on("mouseout",mouseout_handler);pane.on("movestart",movestart_handler);pane.on("moveend",moveend_handler);pane.on("move",move_handler);